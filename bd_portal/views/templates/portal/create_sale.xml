<odoo>
    <template id="create_sale_theme2">
        <t t-call="bd_portal.base">
            <t t-set="header">
                <title>Create Sale | bdCalling</title>
                <link rel="stylesheet" href="/bd_portal/static/css/create_sale.css?v=theme2_1"/>
                <link rel="stylesheet" href="/bd_portal/static/css/multi_select.css?v=theme2_1"/>
            </t>
            <t t-set="footer">
                <script src="/bd_portal/static/js/multi_select.js?v=theme2_1"/>
                <script src="/bd_portal/static/js/create_sale.js?v=theme2_1"/>
            </t>
            <t t-set="page_code" t-value="'sales'" />

            <input id="js_server_data" type="hidden" t-att-value="js_server_data" />

            <div class="container-fluid py-3">

                <!-- Breadcrumbs -->
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb bg-transparent px-0">
                        <li class="breadcrumb-item"><a href="/portal/dashboard">Dashboard</a></li>
                        <li class="breadcrumb-item"><a href="/portal/sales">Sales</a></li>
                        <li class="breadcrumb-item active font-weight-bold" aria-current="page">Create Order</li>
                    </ol>
                </nav>

                <!-- Employee Details Card -->
                <div class="card mb-4 shadow-sm">
                    <div class="card-header bg-white font-weight-bold">Employee Details</div>
                    <div class="card-body">
                        <div class="form-group">
                            <label>Employee ID</label>
                            <input type="text" class="form-control" t-att-value="employee_id.barcode" readonly="1"/>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Employee Name</label>
                                    <input type="text" class="form-control" t-att-value="employee_id.name" readonly="1"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Company Name</label>
                                    <input type="text" class="form-control" t-att-value="employee_id.company_id.name if employee_id.company_id else ''" readonly="1"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sales Employee Details Card -->
                <div class="card mb-4 shadow-sm">
                    <div class="card-header d-flex justify-content-between align-items-center bg-white font-weight-bold">
                        Sales Employee Details
                        <label class="switch mb-0">
                            <input type="checkbox" id="employee_switch"/>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label>Sales Employee ID</label>
                            <input type="hidden" id="hidden_sales_employee_id" name="sales_employee_id"/>
                            <input id="sales_employee_id" class="form-control" type="text"/>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Sales Employee Name</label>
                                    <input id="sales_employee_name" class="form-control" readonly="1"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Company Name</label>
                                    <input id="sales_employee_company_name" class="form-control" readonly="1"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order Details Card -->
                <div class="card mb-4 shadow-sm">
                    <div class="card-header bg-white font-weight-bold">Order Details</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Platform Source</label>
                                    <select id="platform_source" class="form-control" name="platform_source_id" required="1">
                                        <option value="">Select Source...</option>
                                        <t t-foreach="platform_sources" t-as="source">
                                            <option t-att-value="source.id" t-esc="source.name"></option>
                                        </t>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Order Source</label>
                                    <select class="form-control" name="order_source_id" required="1">
                                        <option value="">Select Source...</option>
                                        <t t-foreach="order_sources" t-as="source">
                                            <option t-att-value="source.id" t-esc="source.name"></option>
                                        </t>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Profile Name</label>
                                    <select id="profile_name" class="form-control" name="profile_id" required="1"></select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Tags</label>
                                    <select id="tags" class="form-control" name="tags">
                                        <option value="">Select Tags</option>
                                        <t t-foreach="tags" t-as="tag">
                                            <option t-att-value="tag.id" t-esc="tag.name"/>
                                        </t>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Client User ID</label>
                                    <input id="client_user_id" class="form-control" type="text" required="1"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Client Name</label>
                                    <input id="client_name" class="form-control" type="text"/>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Client Email</label>
                                    <input id="client_email" class="form-control" type="email"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Client Phone</label>
                                    <input id="client_phone" class="form-control" type="text"/>
                                </div>
                            </div>
                        </div>

                        <div class="form-group mt-3">
                            <button id="btn_add_new_client" type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal_create_new_client">
                                + Add New Client
                            </button>
                        </div>

                        <div class="row mt-3">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Order Number</label>
                                    <input id="order_number" class="form-control" type="text" name="order_number" required="1"/>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="form-group">
                                    <label>Order Link</label>
                                    <input id="order_link" class="form-control" type="text" name="order_link" required="1"/>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Instruction Sheet Link</label>
                                    <input class="form-control" type="text" name="instruction_sheet_link" required="1"/>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Service Type</label>
                                    <select id="service_type_id" class="form-control" name="service_type_id" required="1">
                                        <option value="">Select Service Type</option>
                                        <t t-foreach="service_types" t-as="s_type">
                                            <option t-att-value="s_type.id" t-esc="s_type.name"/>
                                        </t>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Incoming Date</label>
                                    <input class="form-control" type="date" name="incoming_date" required="1"/>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Delivery Last Time</label>
                                    <input id="delivery_last_date" class="form-control" type="datetime-local" name="delivery_last_date" required="1"/>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Deadline</label>
                                    <div id="remaining_time"></div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Amount ($)</label>
                                    <input id="amount" class="form-control" type="number" name="amount" required="1"/>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Percentage</label>
                                    <select id="percentage" name="percentage" class="form-control" required="1">
                                        <option value="0">0</option>
                                        <option value="3" selected="1">3</option>
                                        <option value="5">5</option>
                                        <option value="10">10</option>
                                        <option value="20">20</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Charges Amount ($)</label>
                                    <input id="charges_amount" class="form-control" type="number" name="charges_amount" readonly="1"/>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Delivery Amount ($)</label>
                                    <input id="delivery_amount" class="form-control" type="number" name="delivery_amount" readonly="1"/>
                                </div>
                            </div>
                        </div>

                        <div class="form-group mt-3">
                            <label>Special Remarks</label>
                            <textarea class="form-control" name="special_remarks" rows="3"></textarea>
                        </div>

                        <t t-if="env_user and not env_user.is_project_manager">
                            <div class="form-group">
                                <label>Order Status</label>
                                <select class="form-control" name="order_status" required="1">
                                    <t t-foreach="request.env['sale.order']._fields['order_status'].selection" t-as="item">
                                        <option t-att-value="item[0]" t-att-selected="item[0] == 'nra'" t-esc="item[1]"/>
                                    </t>
                                </select>
                            </div>
                        </t>

                    </div>
                </div>

                <!-- Submit Button -->
                <div class="text-right mb-5">
                    <input class="btn btn-primary px-5 py-2" type="submit" value="Submit"/>
                </div>

            </div>
        </t>
    </template>
</odoo>
